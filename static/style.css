/* ---------- Theme tokens ---------- */
:root{
  --blue-900:#0B2239;      /* Notre Dame navy */
  --blue-800:#0C2340;
  --blue-700:#123258;
  --gold-500:#C9A227;      /* ND gold */
  --gold-600:#B88E14;
  --text:#E8EEF5;
  --text-dim:#B7C3D0;
  --card:#11263F;          /* card bg */
  --card-hover:#152C49;
  --border:#1E395A;
  --shadow:rgba(0,0,0,.16);
}

/* ---------- Reset / base ---------- */
*{ box-sizing:border-box }
html,body{ height:100% }
html{
  /* prevent rubber-band bounce on iOS & keep address bar changes from reflowing too hard */
  overscroll-behavior-y:none;
  background:var(--blue-900);
}
body{
  margin:0;
  color:var(--text);
  font:16px/1.4 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background:linear-gradient(180deg,var(--blue-900),var(--blue-800));
}

/* helper utilities */
.hidden{ display:none !important }
.muted{ color:var(--text-dim) }

/* ---------- Header ---------- */
.header{
  display:flex;
  gap:16px;
  align-items:center;
  padding:20px 16px 12px;
  border-bottom:1px solid var(--border);
  position:sticky;
  top:0;
  z-index:10;
  background:linear-gradient(180deg,var(--blue-900),var(--blue-800));
  backdrop-filter:saturate(120%) blur(0px);
}
.header .logo{
  width:72px; height:auto; flex:0 0 auto;
  filter: drop-shadow(0 2px 0 rgba(0,0,0,.15));
}
.header h1{
  margin:0;
  font-weight:800;
  line-height:1.05;
  letter-spacing:.2px;
  font-size:clamp(22px, 3.8vw, 34px);
}
.header .pill--song{
  margin-left:auto;
}

/* keep the header from “jumping” when song toggles */
.pill--song{
  position:relative;
  padding-left:46px; /* room for icon */
}
.pill--song::before{
  content:"▶︎";
  position:absolute; left:16px; top:50%; transform:translateY(-50%);
  font-weight:700; opacity:.9;
}
.pill--song.is-playing::before{ content:"⏸" }

/* ---------- Pills (top links + buttons) ---------- */
.links{
  padding:12px 14px 4px;
  display:flex; flex-wrap:wrap; gap:12px;
}
.pill{
  display:inline-flex; align-items:center; justify-content:center;
  padding:12px 16px;
  border-radius:999px;
  background:var(--gold-500);
  color:#101010;
  font-weight:800;
  text-decoration:none;
  box-shadow:0 1px 0 rgba(255,255,255,.08) inset, 0 2px 8px var(--shadow);
  border:1px solid rgba(0,0,0,.15);
  transition:transform .06s ease, filter .06s ease, background .2s ease;
  white-space:nowrap;
}
.pill:active{ transform:translateY(1px) scale(.99) }
.pill:hover{ filter:brightness(1.03) }
.pill:focus-visible{ outline:2px solid #fff; outline-offset:2px }

/* Slightly smaller on phones to fit more per row */
@media (max-width:480px){
  .pill{ padding:10px 14px; font-size:18px }
}

/* ---------- Controls (Sources) ---------- */
.controls{
  display:flex; align-items:center; gap:12px;
  padding:10px 14px 8px;
  border-top:1px solid var(--border);
  border-bottom:1px solid var(--border);
}
.controls label{ font-size:14px; color:var(--text-dim) }
.select{
  appearance:none;
  background:var(--card);
  color:var(--text);
  border:1px solid var(--border);
  border-radius:10px;
  padding:6px 32px 6px 10px;
  height:36px;
  font-size:14px;
  box-shadow:0 2px 6px var(--shadow) inset;
}
@media (max-width:480px){
  .controls{ padding:8px 12px }
  .select{ height:34px; font-size:13.5px; padding:6px 28px 6px 10px }
}

/* ---------- Feed grid ---------- */
.grid{
  display:grid;
  grid-template-columns:repeat(12,1fr);
  gap:14px;
  padding:14px;
}
@media (max-width:1200px){ .grid{ grid-template-columns:repeat(8,1fr) } }
@media (max-width:900px){ .grid{ grid-template-columns:repeat(6,1fr) } }
@media (max-width:720px){ .grid{ grid-template-columns:repeat(4,1fr) } }
@media (max-width:480px){ .grid{ grid-template-columns:repeat(2,1fr); gap:12px; padding:12px } }

/* ---------- Cards ---------- */
.card{
  grid-column:span 4; /* 3 per row desktop; becomes 2 on small screens by grid defs above */
  background:var(--card);
  border:1px solid var(--border);
  border-radius:16px;
  box-shadow:0 4px 16px var(--shadow);
  overflow:hidden;
  transition:transform .08s ease, background .2s ease, border-color .2s ease;
}
.card a{
  display:block;
  padding:14px 14px 12px;
  color:inherit;
  text-decoration:none;
}
.card:hover{ background:var(--card-hover); border-color:#28466F }
.card h3{
  margin:0 0 8px;
  font-size:18px;
  line-height:1.2;
  font-weight:800;
  letter-spacing:.15px;
}
.summary{
  margin:0 0 12px;
  color:var(--text-dim);
  font-size:14px;
  line-height:1.35;
}
.meta{
  display:flex; align-items:center; gap:8px;
  font-size:12.5px; color:#A8B7C6; letter-spacing:.2px;
}
.meta .source{
  padding:.5px 7px;
  border-radius:999px;
  background:rgba(255,255,255,.08);
  color:#DDE7F2;
  font-weight:700;
}
.meta .dot{ opacity:.45 }
@media (max-width:480px){
  .card h3{ font-size:16.5px }
  .summary{ font-size:13.5px }
  .meta{ font-size:12px }
}

/* ---------- Footer ---------- */
.footer{
  color:var(--text-dim);
  padding:20px 14px 40px;
  text-align:center;
  border-top:1px solid var(--border);
}

/* ---------- Misc polish ---------- */
/* make focus/active states feel snappy on iOS without jank */
@media (hover:none){
  .pill{ transition:none }
}

/* reduce unexpected address-bar snap on iOS while user taps play */
html, body { scroll-behavior:smooth }

/* Ensure long link text in pills wraps nicely to next row (not inside the pill) */
.links{ align-content:flex-start }

/* Optional: slightly tighter header “Updated:” text */
#updated{ margin-top:6px; font-size:14px }

/* Make the “notice” toast small and unobtrusive */
.notice{
  background:rgba(201,162,39,.12);
  border:1px solid rgba(201,162,39,.35);
  color:#F3E1A8;
  border-radius:12px;
  padding:6px 10px;
  font-size:13px;
}
.notice .pill{
  background:transparent; color:#F3E1A8;
  border-color:rgba(201,162,39,.45);
  padding:6px 10px; font-weight:700;
}

/* Buttons inside cards (not used now, but future-proof) */
.card .btn{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 12px; border-radius:10px;
  background:#133056; border:1px solid #244874;
  color:#E6F1FF; font-weight:700; text-decoration:none;
}
.card .btn:hover{ background:#173864; border-color:#2A568B }
